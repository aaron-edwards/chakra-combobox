import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';

<Meta title="Combobox" />

import { ChakraProvider, Text  } from '@chakra-ui/react';
import {Combobox} from '..';
import { animals as allAnimals } from './data'

export const animals = allAnimals.slice(0, 20)
export const animalNames = animals.map(c => c.name)  

export const Template = (args) => 
  <Combobox
    name="Combobox" 
    onChange={action("item selected")}
    {...args} 
  />

<Canvas>
  <Story 
    name="Basic"
    args={{ 
      items: animalNames
    }}>
    {Template.bind({})}
   </Story>
  <Story 
    name="Rich label"
    args={{ 
      items: animals,
      itemToString: (animal) => animal?.name,
      rowRenderer: ({ item: animal }) => 
        <Text as="span">
          {animal.emoji}
          {animal.name}
          <Text as="sup" color={animal.color} padding="2">{animal.type}</Text>
        </Text>
    }}>
    {Template.bind({})}
   </Story>
</Canvas>
